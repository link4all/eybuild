<html>
<head>
<!-- E:/eybuild/doc/export//ebrespond.html - generated by refgen from ebrespond.c -->
 <title> ebrespond </title>
</head>
<body bgcolor="#FFFFFF"> <hr>

<a name="top"></a>
<p align=right>
<a href="libIndex.htm"><i>eyBuildLib API Reference :  eyBuildLib</i></a></p>

</blockquote><h1>ebrespond</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebrespond</strong> - process http request </p>


</blockquote><h4>ROUTINES</h4><blockquote><p>
<p>
<b><a href="./ebrespond.html#print">print</a>(&nbsp;)</b>  -  write a formatted string and buffered by CSP page<br>
<b><a href="./ebrespond.html#bwrite">bwrite</a>(&nbsp;)</b>  -  write binary data block<br>
<b><a href="./ebrespond.html#header">header</a>(&nbsp;)</b>  -  send HTTP header in CSP script<br>
<b><a href="./ebrespond.html#setcookie">setcookie</a>(&nbsp;)</b>  -  send cookie with HTTP header<br>
<b><a href="./ebrespond.html#redirect">redirect</a>(&nbsp;)</b>  -  send redirect instruction with HTTP header<br>
<b><a href="./ebrespond.html#ebHeader">ebHeader</a>(&nbsp;)</b>  -  output HTTP header<br>
<b><a href="./ebrespond.html#ebSetCookie">ebSetCookie</a>(&nbsp;)</b>  -  send cookie with HTTP header<br>
<b><a href="./ebrespond.html#ebRedirect">ebRedirect</a>(&nbsp;)</b>  -  redirect to an url<br>
<b><a href="./ebrespond.html#unEscapeUrl">unEscapeUrl</a>(&nbsp;)</b>  -  decode url<br>
<b><a href="./ebrespond.html#ebUrlEncode">ebUrlEncode</a>(&nbsp;)</b>  -  encode the URL and store in a global buffer<br>
<b><a href="./ebrespond.html#ebUrlDecode">ebUrlDecode</a>(&nbsp;)</b>  -  decode the URL and store in a global buffer<br>
<b><a href="./ebrespond.html#ebHtmlEncode">ebHtmlEncode</a>(&nbsp;)</b>  -  convert plain text into html format text<br>
<b><a href="./ebrespond.html#ebHtmlDecode">ebHtmlDecode</a>(&nbsp;)</b>  -  convert html format text into plain text <br>
<p>
</blockquote><h4>DESCRIPTION</h4><blockquote><p>
process http request 
<p>
</blockquote><h4>INCLUDE</h4><blockquote><p>
<b>ebmultiform.h</b>
<p>
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b>ebrequest.h</b>

<hr>
<a name="print"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>print(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>print(&nbsp;)</strong> - write a formatted string and buffered by CSP page</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int print
    (
    const char * fmt,
                 ...
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
This routine writes a formatted string to a specified file descriptor,
if the csppage is buffered, this routine will not flush until buffer full
or force call flush.
<p>
Its function and syntax are otherwise identical to <b>printf(&nbsp;)</b>. 
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
The number of characters output, or ERROR if there is 
an error during output.
<p>
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>, <b><a href="./ebbuff.html#ebprintf">ebprintf</a>(&nbsp;)</b>

<hr>
<a name="bwrite"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>bwrite(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>bwrite(&nbsp;)</strong> - write binary data block</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int bwrite
    (
    void * data,              /* what to write */
    size_t size               /* data size */
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
This routine is to writes a write binary data block, 
it will force flush current CSP buffer before write data.
<p>
</blockquote><h4>NOTE</h4><blockquote><p>
<p>
block data will not be buffered by CSP page.
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
The number data output, or ERROR during output.
<p>
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>, <b><a href="./ebbuff.html#ebprintf">ebprintf</a>(&nbsp;)</b>

<hr>
<a name="header"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>header(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>header(&nbsp;)</strong> - send HTTP header in CSP script</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int header
    (
    const char * fmt,         /* format string to write */
                 ...          /* optional arguments to format string */
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
This routine send HTTP header in CSP script. Header must be sent before 
any output flushed from your script (this is a protocol restriction). 
<p>
</blockquote><h4>NOTE</h4><blockquote><p>
<p>
dobule "\n" output means the HTTP header output complete, you can not
output any HTTP header any more.
<p>
<pre>header("Status: %s\n", "200 OK");         
header("Content-Type: %s\n\n", content_type);         
</pre>

</blockquote><h4>RETURNS</h4><blockquote><p>
OK, or ERROR while send HTTP header error
<p>
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>, <b><a href="./ebrespond.html#print">print</a>(&nbsp;)</b>, <b><a href="./ebrespond.html#setcookie">setcookie</a>(&nbsp;)</b>

<hr>
<a name="setcookie"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>setcookie(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>setcookie(&nbsp;)</strong> - send cookie with HTTP header</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int setcookie
    (
    char * name,
    char * value,
           ...                /* time_t expire, char * path, char * */
                              /* domain, int secure */ 
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
This routine send cookie with HTTP header. 
Like other headers, cookies must be sent before any output flushed from 
your script (this is a protocol restriction, make sure CSP page buffer not 
flushed is OK). 
<p>
The parameter <b>expire</b>, <b>path</b>, <b>domain</b>, <b>secure</b> is not need.
You should make sure the last parameter is set to NULL, eg:
<pre>setcookie("name1", "value1", NULL);         
setcookie("name2", "value2", time(NULL)+3600, NULL);         
setcookie("name3", "value3", time(NULL)+7200, "/cgi-bin/", NULL);         
</pre>

</blockquote><h4>RETURNS</h4><blockquote><p>
OK, or ERROR while send cookie error
<p>
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>, <b><a href="./ebrespond.html#header">header</a>(&nbsp;)</b>, <b><a href="./ebrespond.html#print">print</a>(&nbsp;)</b>

<hr>
<a name="redirect"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>redirect(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>redirect(&nbsp;)</strong> - send redirect instruction with HTTP header</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int redirect
    (
    char * p_url,
           ...
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
This routine send redirect instruction with HTTP header
Like other headers, redirect instruction must be sent before any output 
flushed from your script (this is a protocol restriction). 
<p>
<pre>redirect("http://www.eybuild.com");
redirect("/cgi-bin/mm.cgi");
</pre>

</blockquote><h4>RETURNS</h4><blockquote><p>
OK, or ERROR while send redirect instruction error
<p>
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>, <b><a href="./ebrespond.html#header">header</a>(&nbsp;)</b>, <b><a href="./ebrespond.html#setcookie">setcookie</a>(&nbsp;)</b>, <b><a href="./ebrespond.html#print">print</a>(&nbsp;)</b>

<hr>
<a name="ebHeader"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>ebHeader(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebHeader(&nbsp;)</strong> - output HTTP header</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int ebHeader
    (
    void *       ebfp,
    const char * fmt,         /* format string to write */
                 ...          /* optional arguments to format string */
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
this routine is to  output HTTP header. if data has been flushed before,
it will not output this header and will return ERROR. 
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
OK/ERROR
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

<hr>
<a name="ebSetCookie"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>ebSetCookie(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebSetCookie(&nbsp;)</strong> - send cookie with HTTP header</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int ebSetCookie
    (
    void * ebfp,
    char * name,
    char * value,
           ...                /* time_t expire, char * path, char * */
                              /* domain, int secure */ 
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
SEE setcookie
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
OK/ERROR
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

<hr>
<a name="ebRedirect"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>ebRedirect(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebRedirect(&nbsp;)</strong> - redirect to an url</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>int ebRedirect
    (
    void * ebfp,
    char * p_url,
           ...
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
this routine is to redirect to an url. if data has been flushed before,
it will not redirect to the url and return will ERROR.
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
OK/ERROR
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

<hr>
<a name="unEscapeUrl"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>unEscapeUrl(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>unEscapeUrl(&nbsp;)</strong> - decode url</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>char * unEscapeUrl
    (
    char * url
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
Reduce any %xx escape sequences to the characters they represent, 
character <b>+</b> to space (<b>\x20</b>).
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
NONE
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

<hr>
<a name="ebUrlEncode"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>ebUrlEncode(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebUrlEncode(&nbsp;)</strong> - encode the URL and store in a global buffer</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>char * ebUrlEncode
    (
    char * to,                /* dest buffer */
    char * from,              /* src url */
    int    maxlen             /* buffer max length */
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
this routine is to encode the URL and store in a global buffer. 
The value will be covered when next time call <b><a href="./ebrespond.html#ebUrlEncode">ebUrlEncode</a>(&nbsp;)</b> or <b><a href="./ebrespond.html#ebUrlDecode">ebUrlDecode</a>(&nbsp;)</b>.
<p>
</blockquote><h4>HREF</h4><blockquote><p>
RFC 2396
</blockquote><h4>NOTE</h4><blockquote><p>
if "to" is NULL, it will be stored into global temporary buffer.
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
OK/ERROR
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

<hr>
<a name="ebUrlDecode"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>ebUrlDecode(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebUrlDecode(&nbsp;)</strong> - decode the URL and store in a global buffer</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>char * ebUrlDecode
    (
    char * to,                /* src url */
    char * from               /* src url */
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
this routine is to decode the URL and store in a global buffer. 
The value will be covered when next time call <b><a href="./ebrespond.html#ebUrlEncode">ebUrlEncode</a>(&nbsp;)</b> 
or <b><a href="./ebrespond.html#ebUrlDecode">ebUrlDecode</a>(&nbsp;)</b>.
<p>
</blockquote><h4>NOTE</h4><blockquote><p>
if "to" is NULL, it will be stored into global temporary buffer.
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
OK/ERROR
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

<hr>
<a name="ebHtmlEncode"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>ebHtmlEncode(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebHtmlEncode(&nbsp;)</strong> - convert plain text into html format text</p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>char * ebHtmlEncode
    (
    char * to,                /* dest buffer */
    char * from,              /* src url */
    int    maxlen             /* buffer max length */
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
this routine convert the <b>\x20</b>, <b>html codes.
<p>
</blockquote><h4>NOTE</h4><blockquote><p>
if "to" is NULL, it will be stored into global temporary buffer.
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
pointer to dest buffer.
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

<hr>
<a name="ebHtmlDecode"></a>
<p align=right>
<a href="rtnIndex.htm"><i>eyBuildLib :  Routines</i></a></p>

</blockquote><h1>ebHtmlDecode(&nbsp;)</h1> <blockquote></a></blockquote><h4>NAME</h4><blockquote>  
<p><strong>ebHtmlDecode(&nbsp;)</strong> - convert html format text into plain text </p>

</blockquote><h4>SYNOPSIS</h4><blockquote><p>
<pre>char * ebHtmlDecode
    (
    char * to,                /* src url */
    char * from               /* src url */
    )
</pre>

</blockquote><h4>DESCRIPTION</h4><blockquote><p>
this routine convert the html codes <b>&nbsp;</b>, <b>&quot;</b>, <b>&lt;</b>, 
<b>&gt;</b>, <b>&amp;</b> into <b>\x20</b>, <b><p>
</blockquote><h4>NOTE</h4><blockquote><p>
if "to" is NULL, it will be stored into global temporary buffer.
<p>
</blockquote><h4>RETURNS</h4><blockquote><p>
pointer to dest buffer.
</blockquote><h4>SEE ALSO</h4><blockquote><p>
<b><a href="./ebrespond.html#top">ebrespond</a></b>

</body>
</html>



